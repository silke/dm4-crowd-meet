<div class="row person">
  <div class="col-lg-10">
  <form novalidate >
    <div class="form-group">
      <label for="inputFirstName">First Name</label>
      <input type="text" class="form-control" id="inputFirstName" placeholder="eg. John" ng-model="person['childs']['dm4.contacts.person_name']['childs']['dm4.contacts.first_name'].value"> </input
    </div>
    <div class="form-group">
      <label for="inputLastName">Last Name</label>
      <input type="text" class="form-control" id="inputLastName" placeholder="eg. Smith" ng-model="person['childs']['dm4.contacts.person_name']['childs']['dm4.contacts.last_name'].value"></input
    </div>
    <div class="form-group">
      <label for="inputGender">Gender</label>
      <input type="text" class="form-control" id="inputGender" placeholder="eg. female, male" ng-model="person['childs']['crowd.person.gender'].value"> </input
    </div>
    <div class="form-group">
      <label for="inputYearOfBirth">Year Of Birth</label>
      <input type="number" class="form-control" id="inputYearOfBirth" placeholder="eg. 1980" string-to-int ng-model="person['childs']['dm4.datetime.date#dm4.contacts.date_of_birth']['childs']['dm4.datetime.year'].value"> </input
    </div>
    <div class="form-group">
      <label for="inputPlaceOfBirth">Place Of Birth</label>
      <input type="text" class="form-control" id="inputPlaceOfBirth" placeholder="eg. Berlin" ng-change="killId(person['childs']['dm4.contacts.city#crowd.person.place_of_birth'])" ng-model="person['childs']['dm4.contacts.city#crowd.person.place_of_birth'].value"> </input
    </div>

    <div class="form-group">
      <label for="inputNationality">Nationalities</label>
      <div id="inputNationality" class="input-group" ng-repeat="e in person['childs']['crowd.person.nationality'] track by $index" ng-if="e.type_uri">
        <input type="text" class="form-control" ng-change="modify('crowd.person.nationality', e)" ng-model="e.value" />
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-disabled="isUpdateBlocked" ng-click=removeNationality($index)>-</button>
        </span>
      </div>
      <div class="input-group">
        <input type="nationality" class="form-control" ng-model="newData.nationality" placeholder="e.g. Swedish" />
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-disabled="isUpdateBlocked" ng-click="addNewNationality(person)">+</button>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputLanguage">Languages</label>
      <div id="inputLanguage" class="input-group" ng-repeat="e in person['childs']['crowd.language'] track by $index" ng-if="e.type_uri">
        <input type="text" class="form-control" ng-change="modify('crowd.language', e)" ng-model="e.value" />
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-disabled="isUpdateBlocked" ng-click=removeLanguage($index)>-</button>
        </span>
      </div>
      <div class="input-group">
        <input type="language" class="form-control" ng-model="newData.language" placeholder="e.g. English" />
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-disabled="isUpdateBlocked" ng-click="addNewLanguage(person)">+</button>
        </span>
      </div>
    </div>

    <div class="form-group">
      <label for="inputEmail">Email Addresses</label>
      <div id="inputEmail" class="input-group" ng-repeat="e in person['childs']['dm4.contacts.email_address'] track by $index" ng-if="e.type_uri">
        <input ng-disabled="$index == 0" type="email" ng-change="modify('dm4.contacts.email_address', e)" class="form-control" ng-model="e.value" />
        <span ng-if="$index > 0" class="input-group-btn">
          <button class="btn btn-default" type="button" ng-disabled="isUpdateBlocked" ng-click=removeEmail($index)>-</button>
        </span>
      </div>
      <div class="input-group">
        <input type="email" class="form-control" ng-model="newData.email" placeholder="user@domain" />
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-disabled="isUpdateBlocked" ng-click="addNewEmail(person)">+</button>
        </span>
      </div>
    </div>


    <div class="form-group">
      <label for="inputURL">URLs</label>
      <div id="inputURL" class="input-group" ng-repeat="e in person['childs']['dm4.webbrowser.url'] track by $index" ng-if="e.type_uri">
        <input type="text" class="form-control" ng-change="modify('dm4.webbrowser.url', e)" ng-model="e.value" />
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-disabled="isUpdateBlocked" ng-click=removeURL($index)>-</button>
        </span>
      </div>
      <div class="input-group">
        <input type="url" class="form-control" ng-model="newData.url" placeholder="e.g. http://www.artistname.com/"/>
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" ng-disabled="isUpdateBlocked" ng-click="addNewURL(person)">+</button>
        </span>
      </div>
    </div>

    <div class="form-group">
      <div ng-repeat="addr in person['childs']['dm4.contacts.address#dm4.contacts.address_entry'] track by $index" ng-if="addr.type_uri">
          <label for="inputAddress" >Address {{ $index+1 }}</label>
          <div class="col-lg-12">
            <input type="text" class="form-control" id="inputStreet{{$index}}" ng-model="addr['childs']['dm4.contacts.street'].value" />
        </div>
        <div>
          <div class="col-lg-8">
            <input type="text" class="form-control" id="inputPostalCode{{$index}}" ng-model="addr['childs']['dm4.contacts.postal_code'].value" />
          </div>
          <div class="col-lg-4">
            <input type="text" class="form-control" id="inputCity{{$index}}" ng-change="killId(addr['childs']['dm4.contacts.city'])" ng-model="addr['childs']['dm4.contacts.city'].value" />
          </div>
        </div>
        <div class="col-lg-12">
          <div class="input-group">
            <input type="text" class="form-control" id="inputCountry{{$index}}" ng-change="killId(addr['childs']['dm4.contacts.country'])" ng-model="addr['childs']['dm4.contacts.country'].value" />
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" ng-disabled="isUpdateBlocked" ng-click="removeAddress($index)">-</button>
            </span>
          </div>
        </div>
      </div>
      <div>
        <label for="inputAddressNew" >New Address</label>
        <div class="col-lg-12">
            <input type="text" class="form-control" id="inputStreetNew" placeholder="street" ng-model="newData.address.street" />
        </div>
        <div>
          <div class="col-lg-8">
            <input type="text" class="form-control" id="inputPostalCodeNew" placeholder="postal code" ng-model="newData.address.postalCode" />
          </div>
          <div class="col-lg-4">
            <input type="text" class="form-control" id="inputCityNew" placeholder="city" ng-model="newData.address.city" />
          </div>
        </div>
        <div class="col-lg-12">
          <div class="input-group">
            <input type="text" class="form-control" id="inputCountryNew" placeholder="country" ng-model="newData.address.country" />
            <span class="input-group-btn">
              <button class="btn btn-primary" type="button" ng-click="addNewAddress(person)" ng-disabled="isUpdateBlocked" type="button">+</button>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="inputNotes">Notes</label>
      <textarea ckeditor="ckEditorOptions" class="form-control" id="inputNotes" rows="5" placeholder="eg. This author is ..." ng-model="person['childs']['dm4.contacts.notes'].value"> </textarea>
    </div>
    <button ng-disabled="isUpdateBlocked" type="submit" class="btn btn-primary" ng-click="handleSubmit()">Save</button>
    <button class="btn" type="button" ng-click="logout()">Logout</button>
  </form>
</div>
</div>
